package guiview;

import javax.swing.JFrame;
import javax.swing.JPanel;

import cs213.photoAlbum.control.Control;

public class OverView extends JFrame {

	private static final long serialVersionUID = 1;
	private static final int LOGIN = 0, ADMIN = 1, ACCOUNT = 2;
	private String username;
	private JPanel base;
	private Control control;
	private int state;
	
	public OverView() {
		state = LOGIN;
		username = new String();
		control = new Control();
		switchToLogin();
		add(base);
		pack();
		setVisible(true);
		setDefaultCloseOperation(EXIT_ON_CLOSE);
	}
	
	public void switchToLogin() {
		state = LOGIN;
		setTitle("Login");
		base = new LoginPanel(username -> {
			if (username.equals("admin")) {
				switchToAdmin();
			} else {
				switchToAccount();
			}
		}, control);
	}
	
	public void switchToAdmin() {
		state = ADMIN;
		setTitle("Administration");
		base = new AdminPanel(dummy -> switchToLogin(), control);
	}
	
	public void switchToAccount() {
		state = ACCOUNT;
		setTitle(username + " Photo Albums");
		base = new AccountPanel(dummy -> switchToLogin(), control);
	}
	
	public static void main(String[] args) {
		@SuppressWarnings("unused")
		OverView view = new OverView();
	}
	
}
